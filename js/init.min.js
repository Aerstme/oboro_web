if("undefined"==typeof jQuery)throw new Error("init.js requires jQuery");var Oboro=Oboro||{};!function(e){"use strict";e(window).on("resize",function(e){return Oboro.SpamCheck(e)?void console.log("window width: "+window.innerWidth):!1}),e(".selectpicker").selectpicker({}),e(".server_info > ul.nav > li > a").on("click",function(){e(".server_info > ul.nav").find(".active").removeClass("active"),e(this).parent().addClass("active");var t=e(this).attr("data-roll");e(".tab-content").find(".active").fadeOut("slow",function(){e(this).removeClass("active").css("opacity","0"),e("#"+t).fadeIn("slow",function(){e(this).addClass("active").css("opacity","1")})})}),e("html").niceScroll({cursorwidth:"2px",cursorcolor:"rgb(185, 179, 179)",cursorborder:"rgb(185, 179, 179)",cursorborderradius:"4px",zindex:150,scrollspeed:50,spacebarenabled:!1,enablemousewheel:!0,bouncescroll:!0,autohidemode:!0}),e(".tab-content").niceScroll({cursorwidth:"2px",cursorcolor:"rgb(185, 179, 179)",cursorborder:"rgb(185, 179, 179)",cursorborderradius:"4px",zindex:150,scrollspeed:50,spacebarenabled:!1,enablemousewheel:!0,bouncescroll:!0,autohidemode:!0}),e("#OboroDT, #OboroDT2").DataTable({responsive:!0,bFilter:!0,bInfo:!0,bPaginate:!0}),e("#OboroDT3").DataTable({responsive:!0,bFilter:!0,bInfo:!1,bPaginate:!0,lengthMenu:[4,6,8,10,15,20]}),e("#OboroDT_LARGE").DataTable({responsive:!0,bFilter:!0,bInfo:!0,bPaginate:!0,Processing:!0,bSortClasses:!1,ajax:"libs/ajax/datatables.ajax.itemdb.php"}),e('[id="OBORO_NORMALIZED"]').on("submit",function(t){t.preventDefault(),e(".loader").fadeIn("slow");var a=e(this).find('select[name="opt"]').val()||e(this).find('input[name="opt"]').val()||!1,o=e(this).find('input[name="rank"]').val()||!1,n=e(this).find('select[name="order"]').val()||!1,i=e(this).find('input[name="buscar"]').val()||!1,s=e(this).find('input[name="name"]').val()||0,r=e(this).find('input[name="account_id"]').val()||0,l=e(this).find('input[name="item_id"]').val()||0,c=e(this).find('input[name="map"]').val()||0,u="?"+o;a&&(u+="-"+a),n&&(u+="-"+n),i&&(u+="-"+i),1==a&&(u+="-"+s+"-"+r+"-"+l+"-"+c),window.location.href=u});var t=function(t){e.confirm({title:"Encountered an error!",closeIcon:!0,closeIconClass:"fa fa-close",backgroundDismiss:!0,content:t,autoClose:"close|5000",type:"red",typeAnimated:!0,buttons:{close:function(){}}})};e(".OBOROBACKWORK").on("submit",function(a){a.preventDefault(),e(".loader").fadeIn("slow");var o=this;e.post("libs/ajax/functions.php",e(o).serialize(),function(a){switch(e(o).find('input[name="OPT"]').val()){case"LOGIN":"ok"!==e.trim(a)?t(a):window.location.href="?";break;case"REGISTRO":"ok"!==e.trim(a)?e(".error_log").css("background","#ffacac").html(a+"<br/><b>Note</b> Please click the submit(blue) button to update error list"):(Oboro.alerta("success","&Eacute;xito","Account has been created"),window.location.href="index.php");break;case"ACCOUNTPANEL":switch(e.trim(a)){case"okdeslog":Oboro.alerta("success","&Eacute;xito","Please log in again to finish"),window.location.href="index.php?session_destroy=true";break;case"ok":Oboro.alerta("success","&Eacute;xito","Your account has been update");break;default:t(a)}break;case"CHARPANEL":"ok"===e.trim(a)?(Oboro.alerta("success","&Eacute;xito","Your account has been updated"),window.location.href="index.php?account.info"):t(a);break;case"RECOVERPASS":"ok"===e.trim(a)?Oboro.alerta("success","&Eacute;xito","Please check your email for the new login"):t(a);break;case"CONVERT_ITEM_DB":"error"===e.trim(a.split("@")[0])?(Oboro.alerta("success","&Eacute;xito","Your Item_DB.SQL Has been succesfully Created, starting your download soon..."),setTimeout(function(){window.location.href=a.split("@")[1]},1e3)):t(a);break;case"LOGIN_WITH_GEO":"ok"===e.trim(a)?(Oboro.alerta("success","&Eacute;xito","Welcomeback"),window.location.href="index.php"):t(a);break;case"UPDATE_GEO_INFO":"ok"===e.trim(a)?Oboro.alerta("success","&Eacute;xito","Geo-Localization Information Updated succesfully"):t(a);break;case"CREATE_DONATION_ITEM":"ok"===e.trim(a)?(Oboro.alerta("success","&Eacute;xito","New donation item created"),window.location.href="?admin.donationshop"):t(a);break;case"DELETE_DONATION_ITEM":"ok"===e.trim(a)?(Oboro.alerta("success","&Eacute;xito","Donation Item has been deleted from donation shop"),window.location.href="?admin.donationshop"):t(a)}}),e(".loader").fadeOut("slow")}),e(".dona-box-on-buy").on("submit",function(a){a.preventDefault(),e(".loader").fadeIn("slow");var o=e(this).attr("data-dona-id"),n=this;0==e(this).find("input[name='confirma-compra']").prop("checked")?t("You must have to confirm the checkbox"):(e(this).find("input[name='sub']").val("").val("Processing."),e.post("libs/ajax/donationshop.validator.php",{item_id:o},function(a){"ok"===e.trim(a)?e.confirm({title:"Congratulations!",closeIcon:!0,closeIconClass:"fa fa-close",backgroundDismiss:!0,content:"item has been successfully added to your inventory",autoClose:"close|5000",type:"green",typeAnimated:!0,buttons:{close:function(){}},onClose:function(){e(n).find("input[name='sub']").val("").val("Buy Again"),e("#get-donation-points").text(+e("#get-donation-points").text().replace(".","").replace("£","")-e(n).parent().parent().find(".donation_value").text().split(",")[0].replace(".","").replace("£",""))}}):(e(n).find("input[name='sub']").val("").val("Can't Buy").prop("disabled",!0),t(a))}).fail(function(e,t,a){alert(a)})),e(".loader").fadeOut("slow")}),e(".btn-cierra").on("click",function(){"none"!==e(this).parent().parent().parent().find(".panel-body").css("display")?e(this).parent().parent().parent().find(".panel-body").slideUp("slow"):e(this).parent().parent().parent().find(".panel-body").slideDown("slow")}),e("#ShowLoginForm").on("click",function(){e("#oboro_login_style").slideDown("slow")}),e('[id^="fileInput"').on("change",function(){var t=e(this);e(this).closest("label").find("span").html(t.val().replace(/\\/g,"/").replace(/.*\//,""))}),e('[id^="get_btn_donation_"]').on("click",function(a){a.preventDefault();var o=e(this).closest("tr").attr("id"),n=e("#"+o).find('input[name="name"]').val(),i=e("#"+o).find('textarea[name="description"]').val(),s=e("#"+o).find('input[name="dona"]').val(),r=e("#"+o).attr("id").split("get_row_donation_")[1];e.post("libs/ajax/functions.php",{name:n,desc:i,dona:s,item_id:r,OPT:"DonationAdminUpdate"},function(a){if("ok"===e.trim(a)){var n=e("#"+o).find("#fileInput")[0].files[0];if(n){var i=new FormData;i.append("image",e("#"+o).find("#fileInput")[0].files[0]),i.append("OPT","DonationAdminUpdateImg"),e.ajax({url:"libs/ajax/functions.php",type:"POST",data:i,contentType:!1,cache:!1,processData:!1,success:function(a){"ok"===e.trim(a)?(Oboro.alerta("success","&Eacute;xito","Item updated succesfully"),window.location.href="index.php?admin.donationshop"):t(a)}})}else Oboro.alerta("success","&Eacute;xito","Item updated succesfully")}else t(a)})})}(jQuery);